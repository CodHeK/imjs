<!DOCTYPE html>
<html>
    <head>
        <!--[if lt IE 9]>
            <script src="http://cdn.intermine.org/js/html5shiv/r29/html5.js"></script>
        <![endif]-->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta charset="utf-8">
        <title>IMJS Tests</title>
        <link rel="stylesheet" href="http://cdn.intermine.org/js/mocha/1.8.1/mocha.css" type="text/css" media="screen"
              charset="utf-8">
        <!-- Dependencies -->
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="http://cdn.intermine.org/js/underscore.js/1.3.3/underscore-min.js"></script>
        <script src="http://cdn.intermine.org/js/expect/latest/expect.js" type="text/javascript"></script>
        <script src="http://cdn.intermine.org/js/mocha/1.8.1/mocha.js"></script>
    </head>
    <body>
        <!-- Browser Reporter Requires this Div -->
        <div id="mocha"></div>

        <!-- TODO: Make all this configurable, and build a version for jenkins --> 
        <!-- for local get from components, and do like this for jenkins -->
        <!-- Test Infrastructure -->
        <script>
            mocha.setup({
                globals: ['navigator', 'getInterface', 'expect', 'JSON', 'intermine'],
                ui: 'bdd'});
        </script>

        <script>
            var service_args = {
                root: 'http://localhost:8080/intermine-test',
                token: 'test-user-token'
            };
        </script>

        <script src="http://ci.intermine.org/job/imjs/lastSuccessfulBuild/artifact/js/im.js" type="text/javascript"></script>

        <!-- Tests -->
        <script src="acceptance.js"></script>
        <script>
            if (window.mochaPhantomJS) { mochaPhantomJS.run(); }
            else { mocha.run(); }
        </script>
    </body>
</html>

